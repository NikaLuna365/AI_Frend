# /requirements.txt (Исправленная версия с откатом GCS)

# ───────────────────────────────────────────────────────
# Основной веб-стек
# ───────────────────────────────────────────────────────
fastapi==0.115.12
uvicorn[standard]==0.34.2
python-multipart==0.0.20
httpx==0.28.1

# ───────────────────────────────────────────────────────
# Google AI / Google Cloud / Google Auth
# ───────────────────────────────────────────────────────
google-generativeai==0.4.1
# --- ИСПРАВЛЕНО: Откатили GCS до последней версии 2.x ---
google-cloud-storage==2.17.0     # Совместимо с aiplatform < 3.0.0
# ------------------------------------------------------
google-cloud-aiplatform==1.91.0  # Оставляем последнюю
google-auth==2.39.0              # Оставляем последнюю
google-api-python-client==2.168.0
google-auth-httplib2==0.2.0
google-auth-oauthlib==1.2.2

# ───────────────────────────────────────────────────────
# Дата-парсинг / утилиты
# ───────────────────────────────────────────────────────
dateparser==1.2.1

# ───────────────────────────────────────────────────────
# SQLAlchemy + миграции + драйверы Postgres
# ───────────────────────────────────────────────────────
SQLAlchemy==2.0.40
alembic==1.15.2
psycopg2-binary==2.9.10
asyncpg==0.29.0

# ───────────────────────────────────────────────────────
# Celery + Redis
# ───────────────────────────────────────────────────────
celery[redis]==5.5.1
redis==5.2.1

# ───────────────────────────────────────────────────────
# Pydantic + настройки
# ───────────────────────────────────────────────────────
pydantic==2.11.1
pydantic-settings==2.2.1

# ───────────────────────────────────────────────────────
# Тесты / линт
# ───────────────────────────────────────────────────────
pytest==8.3.5
flake8==7.2.0
pytest-asyncio

# ───────────────────────────────────────────────────────
# JWT / Security
# ───────────────────────────────────────────────────────
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4

# ───────────────────────────────────────────────────────
# Криптография
# ───────────────────────────────────────────────────────
cryptography==43.0.0

# ───────────────────────────────────────────────────────
# Обработка изображений (ОПЦИОНАЛЬНО)
# ───────────────────────────────────────────────────────
# Pillow==10.4.0
